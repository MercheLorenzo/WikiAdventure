<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a responsive product landing page.">
    <title>WikiAdventure lobby</title>    
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css">
    <link rel="stylesheet" href="/css/menu.css">
    <meta name="viewport" content="width=device-width, user-scalable=yes">
</head>
<body>
    <div class="splash-container">
        <div class="splash">
            <h1 class="splash-head">Create or join</h1>
            <p class="splash-subhead">
                a game of unlimited knowledge
            </p>
            <select class="pure-form large-font" id="langSelect">
                <option value="en">--Select a language--</option>
                <option value="en">English</option>
                <option value="fr">Français</option>
                <option value="de">Deutsch</option>
                <option value="es">Español (no traducir)</option>
                <option value="it">italiano (nessuna traduzione)</option>
                <option value="eo">esperanto (sen traduko)</option>
            </select>
            <p>
                <a href="#publicJoin" class="pure-button pure-button-primary">Join a public lobby</a>
                <a href="#privateJoin" class="pure-button pure-button-primary">Join a private lobby</a>
                <a href="#privateCreate" class="pure-button pure-button-primary">Create a private lobby</a>
            </p>
        </div>
    </div>
    <div class="content-wrapper">
        <div class="content" id="publicJoin">
            <h2 class="content-head is-center">Join a public lobby</h2>
    
            <div class="pure-g">
                <div class="l-box-lrg pure-u-1 pure-u-md-2-5">
                    <form id="publicJoinForm" class="pure-form pure-form-stacked" method="post" action="/connect">
                        <fieldset>
                            
                            <input name="language" type="hidden" value="en">
                            <input name="type" type="hidden" value="publicJoin">

                            <label for="publicJoinPseudo">Your Pseudo</label>
                            <input id="publicJoinPseudo" name="pseudo" type="text" placeholder="Your Pseudo" minlength="6" maxlength="25">
    
                            <button type="submit" class="pure-button">Join</button>
                        </fieldset>
                    </form>
                </div>
    
                <div class="l-box-lrg pure-u-1 pure-u-md-3-5">
                    <!--<h4>How To Play</h4>
                    <p>
                        The goal is simple, during the play phase, you need to go as fast as 
                        possible from the start page to the end page, but you can only navigate 
                        with the link on the wikipedia page.
                        During the voting phase you can suggest your wikipedia page title in the swipe menu.
                        At the end of the voting phase the server will randomly pick a start page 
                        and an end page and the game will begin.
                    </p>
    
                    <h4>Report a bug</h4>
                    <p>
                        TODO here
                    </p>-->
                </div>
            </div>
    
        </div>

        <div class="content" id="privateJoin">
            <h2 class="content-head is-center">Join a private lobby</h2>
    
            <div class="pure-g">
                <div class="l-box-lrg pure-u-1 pure-u-md-2-5">
                    <form id="privateJoinForm" class="pure-form pure-form-stacked" method="post" action="/connect">
                        <fieldset>
                            
                            <input name="language" type="hidden" value="en">
                            <input name="type" type="hidden" value="privateJoin">

                            <label for="privateJoinPseudo">Your Pseudo</label>
                            <input id="privateJoinPseudo" name="pseudo" type="text" placeholder="Your Pseudo"  minlength="6" maxlength="25">
                            
                            <label for="id">The Lobby ID</label>
                            <input id="id" name="id" type="text" placeholder="Lobby ID" required>

                            <label for="privateJoinPassword">The Lobby Password</label>
                            <input id="privateJoinPassword" name="password" type="password" placeholder="Lobby Password">
    
                            <button type="submit" class="pure-button">Join</button>
                        </fieldset>
                    </form>
                </div>
    
                <div class="l-box-lrg pure-u-1 pure-u-md-3-5">
                    <!--<h4>How To Play</h4>
                    <p>
                        TODO description here
                    </p>
    
                    <h4>Report a bug</h4>
                    <p>
                        TODO here
                    </p>-->
                </div>
            </div>
    
        </div>

        <div class="content" id="privateCreate">
            <h2 class="content-head is-center">Create a private lobby</h2>
    
            <div class="pure-g">
                <div class="l-box-lrg pure-u-1 pure-u-md-2-5">
                    <form id="privateCreateForm" class="pure-form pure-form-stacked" method="post" action="/connect">
                        <fieldset>
                            
                            <input name="language" type="hidden" value="en">
                            <input name="type" type="hidden" value="privateCreate">

                            <label for="privateCreatePseudo">Your Pseudo</label>
                            <input id="privateCreatePseudo" name="pseudo" type="text" placeholder="Your Pseudo" minlength="6" maxlength="25">

                            <label for="privateCreatePassword">The Lobby Password</label>
                            <input id="privateCreatePassword" name="password" type="password" placeholder="Lobby Password">

                            <!--<label for="custom">Custom Message</label>
                            <input id="custom" name="custom" type="text" placeholder="Your Custom Message" maxlength="50">-->
    
                            <button type="submit" class="pure-button">Create</button>
                        </fieldset>
                    </form>
                </div>
    
                <div class="l-box-lrg pure-u-1 pure-u-md-3-5">
                    <!--<h4>How To Play</h4>
                    <p>
                        TODO description here
                    </p>
    
                    <h4>Report a bug</h4>
                    <p>
                        TODO here
                    </p>-->
                </div>
            </div>
    
        </div>

        <div class="content" id="twitchCreate">
            <h2 class="content-head is-center">Create a twitch lobby</h2>
    
            <div class="pure-g">
                <div class="l-box-lrg pure-u-1 pure-u-md-2-5">
                    <a href="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id=qjfynifqiehclsandzhh3hvhaacqaa&redirect_uri=http://localhost:5000/twitch&scope=user_read">Connect With Twitch!</a>
                </div>
    
                <div class="l-box-lrg pure-u-1 pure-u-md-3-5">
                    <!--<h4>How To Play</h4>
                    <p>
                        TODO description here
                    </p>
    
                    <h4>Report a bug</h4>
                    <p>
                        TODO here
                    </p>-->
                </div>
            </div>
    
        </div>
    
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha512/0.8.0/sha512.min.js"></script>
    <script>
        var swapLanguage = function () {
            var target = document.getElementById('langSelect');
            var lang = target.options[target.selectedIndex].value;
            var elements = document.getElementsByName('language'); 
            for (var i=0; i<elements.length; i++) {
                elements[i].value = lang;
            }
        };
        addEventListener('DOMContentLoaded', swapLanguage);
        document.getElementById('langSelect').onchange = function(e){
            swapLanguage();
        }
        document.getElementById("privateCreateForm").onsubmit = function (e) {
            document.getElementById("privateCreatePassword").value = sha512(document.getElementById("privateCreatePassword").value);
        }
        document.getElementById("privateJoinForm").onsubmit = function (e) {
            document.getElementById("privateJoinPassword").value = sha512(document.getElementById("privateJoinPassword").value);
        }
    </script>  
</body>
</html>