<!doctype html>
<html lang="${lobbyLang}" id="touchScreen">
  <head>
    <meta charset="utf-8">
    <title>${lobbyID} Wiki Adventure lobby</title>
    <link id="uiCSS" rel="stylesheet" href="/css/chatSection.css">
    <link id="uiCSS" rel="stylesheet" href="/css/leaderboard.css">
    <meta name="viewport" content="width=device-width, user-scalable=yes">
  </head>
  <body id="mwAA" lang="en" class="mw-content-ltr sitedir-ltr ltr mw-body-content parsoid-body mediawiki mw-parser-output" dir="ltr">
    <section id="wikiSection">
        <div class="tips">
          <h1>Tips :</h1>
          <p>You can hover the blue icon to open the action menu.</p>
          <p>You can also lock the menu if you click on the icon.</p>
          <p>Additionally, you can press escape on the keyboard to lock the menu.</p>
          <p>After you submitted your vote, the resulted wiki page title will appear after the  → .</p>
          <p>If no page are found, you will see → no page found.</p>
        </div>
    </section>
    <input id="showUI" type="checkbox"/>
    <ui-section id="uiSectionTemplate"></ui-section>
    <leaderboard id="leaderboardTemplate"></leaderboard>
    <audio id="countdownSound">
      <source src="res/sound/countDown.ogg" type="audio/ogg">
      <source src="res/sound/countDown.mp3" type="audio/mpeg">
    </audio>
    <audio id="winSound">
      <source src="res/sound/win.ogg" type="audio/ogg">
      <source src="res/sound/win.mp3" type="audio/mpeg">
    </audio>
    <script id="preload" defer>
        var lobbyID = "${lobbyID}";
        var playerID = "${playerID}";
        var lobbyLang ="${lobbyLang}";
        var socketError = "${socketError}";
        var votePlaceholder = "${votePlaceholder}";
        var exitWarning = "${exitWarning}";
        window.addEventListener('load', async function() {
          async function loadshtml(url, targetID) {
            await fetch(url)
              .then(function(response){return response.text();})
              .then(function(response) {
                  document.getElementById(targetID).replaceWith(new DOMParser().parseFromString(response, "text/html").body.firstChild);
                  dispatchEvent(new CustomEvent(targetID));
              })
          }
        loadshtml("shtml/gameMenu.shtml", "uiSectionTemplate");
        loadshtml("shtml/gameLeaderboard.shtml", "leaderboardTemplate");
        });
    </script>
    <script id="ioImport" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js" defer></script>
    <script id="gameClient" src="js/gameClient.js" defer></script>
    <script id="mobileSwipe" src="js/mobileSwipe.js" async></script>
  </body>
</html>